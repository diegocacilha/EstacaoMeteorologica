<html>
    <head>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    	<title>In√≠cio</title>
        <link href="https://fonts.googleapis.com/css?family=Maven+Pro|Raleway&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    	<link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    	<link rel="stylesheet" href="lib/css/main.css">
    	<link rel="stylesheet" href="lib/css/home.css">
        <link rel="stylesheet" href="lib/css/menu.css">
    	</head>
    <body>
		<header class="header">
            <!--aqui vai o menu,
                obviamente tem que fazer ajustes-->

		</header>
    	<main>
    		<div class="container">
    			<div class="row">
        			<section class="col col-12 principal">
        				<div class="card">
        					<div class="card-body shadow">
        						<canvas id="line-chart-principal" height="80px"></canvas>
        					</div>
        				</div>
        			</section>
    			</div>
    			<div class="row">
    				<section class="col col-3 secundario">
    					<div class="card">
        					<div class="card-body shadow">
        						<canvas id="grafico-secundario-1" height="280"></canvas>
        					</div>
        				</div>
    				</section>
    				<section class="col col-3 secundario">
    					<div class="card">
        					<div class="card-body shadow">
        						<canvas id="grafico-secundario-2" height="280px"></canvas>
        					</div>
        				</div>
    				</section>
    				<section class="col col-3 secundario">
    					<div class="card">
        					<div class="card-body shadow">
        						<canvas id="grafico-secundario-3" height="60px"></canvas>
        					</div>
        				</div>
    				</section>
    				<section class="col col-3 secundario">
    					<div class="card">
        					<div class="card-body shadow">
        						<canvas id="grafico-secundario-4" height="60px"></canvas>
        					</div>
        				</div>
    				</section>
    			</div>
    		</div>
    	</main>
    </body>

	<script type="text/javascript" src="chart.js/dist/Chart.min.js"></script>
	<script src="lib/js/functions.js"></script>
	<script>
		var canvas;
		sendRequest('GET', '/telemetrias', {}, function(retorno){
			var data = {
				type: 'line',
				data: {
					labels: [],
					datasets: [{
						label: 'Temperatura',
						data: [],
						borderWidth: 2,
						borderColor: 'rgba(77,166,253,0.85)',
						backgroundColor: 'transparent'
					}]
				}
			};
			for(var i = 0; i < retorno.length; i++){
				data.data.labels.push(retorno[i].data);
				data.data.datasets[0].data.push(retorno[i].temperatura);
			}
			var chart = new Chart(canvas, data);
		});

		window.onload = function(){
			canvas = document.querySelector('#line-chart-principal');
		}
	</script>
    <script src="lib/js/Header.js"></script>
    <script type="text/javascript">
        let elementoDom = document.querySelector('.header')
        let menu = new Header(elementoDom);
        menu.update()
    </script>
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>